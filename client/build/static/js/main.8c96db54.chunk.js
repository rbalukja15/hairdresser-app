(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{429:function(e,t,a){e.exports=a(510)},472:function(e,t,a){},506:function(e,t,a){},510:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(9),r=a.n(o),l=a(27),s=a(22),c=a(29),u=a(28),m=a(30),d=a(37),h=a(378),p=a(377),g=a(74),E=a(397),f=a(251),y=a(406),b=a.n(y),v=a(329),S=a(143),C=a(5),k=a(375),O=a(326),j=a(94),_=a(157),B=a(398),N=(a(248),a(404)),T=a.n(N),A=a(23),I=a(401),D=a(529),M=a(516),w=a(517),L=a(518),x=a(519),P=a(520),G=a(521),R=a(522),K=a(19),Y=a.n(K),z=function(e,t){return{type:"GET_ERRORS",payload:{msg:e,status:t,id:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}},U=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={modal:!1,email:"",password:"",msg:null},a.toggle=function(){a.props.clearErrors(),a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};a.props.login(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.modal&&n&&this.toggle()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(I.a,{color:"inherit",onClick:this.toggle,href:"#",style:{color:"white",fontSize:16}},"Login"),i.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0,style:{marginTop:40}},i.a.createElement(M.a,{toggle:this.toggle},"Login"),i.a.createElement(w.a,null,this.state.msg?i.a.createElement(L.a,{color:"danger"},this.state.msg):null,i.a.createElement(x.a,{onSubmit:this.onSubmit},i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"email"},"Email"),i.a.createElement(R.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),i.a.createElement(G.a,{for:"password"},"Password"),i.a.createElement(R.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),i.a.createElement(I.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Login"))))))}}]),t}(n.Component),F=Object(A.connect)(function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}},{login:function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});Y.a.post("/api/auth",n,{headers:{"Content-Type":"application/json"}}).then(function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})}).catch(function(t){e(z(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})})}},clearErrors:function(){return{type:"CLEAR_ERRORS"}}})(q),W=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(n.Fragment,null,i.a.createElement(I.a,{color:"inherit",onClick:this.props.logout,href:"#",style:{color:"white",fontSize:16}},"Logout"))}}]),t}(n.Component),V=Object(A.connect)(null,{logout:function(){return{type:"LOGOUT_SUCCESS"}}})(W);var J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={mobileOpen:!1},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.dumbFunction=function(){},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children,o=e.location.pathname,r=e.isAuthenticated,l=this.state.mobileOpen,s=i.a.createElement("div",null,i.a.createElement(E.a,{smDown:!0,implementation:"css"},i.a.createElement("div",{className:t.toolbar})),i.a.createElement(O.a,{className:t.menuList},i.a.createElement(k.a,{component:j.b,className:t.menuItem,to:"/",onClick:l?this.handleDrawerToggle:this.dumbFunction,selected:"/"===o},"Kryefaqja"),i.a.createElement(k.a,{component:j.b,className:t.menuItem,to:"/sales",onClick:l?this.handleDrawerToggle:this.dumbFunction,selected:"/sales"===o},"Shitjet"),i.a.createElement(k.a,{component:j.b,className:t.menuItem,to:"/buyings",onClick:l?this.handleDrawerToggle:this.dumbFunction,selected:"/buyings"===o},"Blerjet"),i.a.createElement(k.a,{component:j.b,className:t.menuItem,to:"/shopping",onClick:l?this.handleDrawerToggle:this.dumbFunction,selected:"/shopping"===o},"Produktet"),i.a.createElement(k.a,{component:j.b,className:t.menuItem,to:"/category",onClick:l?this.handleDrawerToggle:this.dumbFunction,selected:"/category"===o},"Kategorite"),i.a.createElement(k.a,{component:j.b,className:t.menuItem,to:"/clients",onClick:l?this.handleDrawerToggle:this.dumbFunction,selected:"/clients"===o},"Klientet"),i.a.createElement(k.a,{component:j.b,className:t.menuItem,to:"/employees",onClick:l?this.handleDrawerToggle:this.dumbFunction,selected:"/employees"===o},"Punetoret"),i.a.createElement(k.a,{component:j.b,className:t.menuItem,to:"/invoice",onClick:l?this.handleDrawerToggle:this.dumbFunction,selected:"/invoice"===o},"Faturat")));return i.a.createElement(n.Fragment,null,i.a.createElement(p.a,null),i.a.createElement("div",{className:t.root},i.a.createElement(h.a,{position:"fixed",className:t.appBar},i.a.createElement(v.a,null,i.a.createElement(f.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:t.menuButton},i.a.createElement(b.a,null)),i.a.createElement(S.a,{variant:"h6",color:"inherit",noWrap:!0,className:t.typography},"C'est Chic Saloon"),r?i.a.createElement("div",{className:t.auth},i.a.createElement(V,null)):i.a.createElement("div",{className:t.auth},i.a.createElement(F,null)))),i.a.createElement("nav",{className:t.drawer},i.a.createElement(E.a,{smUp:!0,implementation:"css"},i.a.createElement(g.a,{variant:"temporary",open:l,onClose:this.handleDrawerToggle,classes:{paper:t.drawerPaper}},s)),i.a.createElement(E.a,{smDown:!0,implementation:"css"},i.a.createElement(g.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},s))),i.a.createElement("main",{className:t.content},i.a.createElement("div",{className:t.toolbar}),r?a:"")))}}]),t}(n.Component),H=Object(B.a)(_.e,Object(C.a)(function(e){var t,a;return{root:{flexGrow:1},drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:{zIndex:e.zIndex.drawer+1},menuButton:(t={marginRight:20},Object(d.a)(t,e.breakpoints.up("md"),{display:"none"}),Object(d.a)(t,"float","left"),t),menuItem:{minHeight:"60px"},icon:{margin:e.spacing(2,2)},iconHover:{margin:e.spacing(2,2),"&:hover":{color:T.a[800]}},toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:(a={},Object(d.a)(a,e.breakpoints.down("sm"),{marginLeft:10,marginTop:5,width:"calc(100% - ".concat(240,"px - 10px)"),height:"100%"}),Object(d.a)(a,e.breakpoints.up("md"),{marginTop:10,marginLeft:240,width:"calc(100% - ".concat(240,"px - 20px)"),height:1e3}),Object(d.a)(a,e.breakpoints.up("lg"),{marginTop:10,width:"calc(100% - ".concat(240,"px - 20px)"),height:"".concat(1e3,"px + 200px")}),a),auth:{borderRadius:7,width:"50px",color:"white"},avatar:{float:"right",marginRight:0},typography:{float:"left",flexGrow:1}}},{withTheme:!0}),Object(A.connect)(function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(J),X=a(139),$=a(407),Q=a(38),Z=a(11),ee={items:[],loading:!1},te={msg:{},status:null,id:null},ae={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},ne={clients:[],loading:!1},ie={categories:[],loading:!1},oe={sales:[],loading:!1},re={buyings:[],loading:!1},le={employees:[],loading:!1},se={events:[],loading:!1},ce=a(17),ue=a.n(ce),me=Object(X.c)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return Object(Z.a)({},e,{items:t.payload,loading:!1});case"GET_ITEM_BY_ID":return Object(Z.a)({},e,{item:t.payload});case"DELETE_ITEMS":return Object(Z.a)({},e,{items:e.items.filter(function(e){return e._id!==t.payload})});case"ADD_ITEMS":case"UPDATE_ITEM":return Object(Z.a)({},e,{items:[t.payload].concat(Object(Q.a)(e.items))});case"ITEMS_LOADING":return Object(Z.a)({},e,{loading:!0});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CLIENTS":return Object(Z.a)({},e,{clients:t.payload,loading:!1});case"GET_CLIENT_BY_ID":return Object(Z.a)({},e,{client:t.payload,loading:!1});case"DELETE_CLIENTS":return Object(Z.a)({},e,{clients:e.clients.filter(function(e){return e._id!==t.payload})});case"ADD_CLIENTS":case"UPDATE_CLIENT":return Object(Z.a)({},e,{clients:[t.payload].concat(Object(Q.a)(e.clients))});case"CLIENTS_LOADING":return Object(Z.a)({},e,{loading:!0});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(Z.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(Z.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(Z.a)({},e,t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(Z.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return Object(Z.a)({},e,{categories:t.payload,loading:!1});case"GET_CATEGORY_BY_ID":return Object(Z.a)({},e,{category:t.payload,loading:!1});case"DELETE_CATEGORIES":return Object(Z.a)({},e,{categories:e.categories.filter(function(e){return e._id!==t.payload})});case"ADD_CATEGORIES":case"UPDATE_CATEGORY":return Object(Z.a)({},e,{categories:[t.payload].concat(Object(Q.a)(e.categories))});case"CATEGORIES_LOADING":return Object(Z.a)({},e,{loading:!0});default:return e}},sale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SALES":return Object(Z.a)({},e,{sales:t.payload,loading:!1});case"GET_SALE_BY_ID":return Object(Z.a)({},e,{sale:t.payload});case"DELETE_SALES":return Object(Z.a)({},e,{sales:e.sales.filter(function(e){return e._id!==t.payload})});case"ADD_SALES":case"UPDATE_SALE":return Object(Z.a)({},e,{sales:[t.payload].concat(Object(Q.a)(e.sales))});case"SALES_LOADING":return Object(Z.a)({},e,{loading:!0});default:return e}},buying:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BUYINGS":return Object(Z.a)({},e,{buyings:t.payload,loading:!1});case"GET_BUYING_BY_ID":return Object(Z.a)({},e,{buying:t.payload,loading:!1});case"DELETE_BUYING":return Object(Z.a)({},e,{buyings:e.buyings.filter(function(e){return e._id!==t.payload})});case"ADD_BUYINGS":case"UPDATE_BUYING":return Object(Z.a)({},e,{buyings:[t.payload].concat(Object(Q.a)(e.buyings))});case"BUYINGS_LOADING":return Object(Z.a)({},e,{loading:!0});default:return e}},employee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EMPLOYEES":return Object(Z.a)({},e,{employees:t.payload,loading:!1});case"GET_EMPLOYEE_BY_ID":return Object(Z.a)({},e,{employee:t.payload});case"DELETE_EMPLOYEE":return Object(Z.a)({},e,{employees:e.employees.filter(function(e){return e._id!==t.payload})});case"ADD_EMPLOYEES":case"UPDATE_EMPLOYEE":return Object(Z.a)({},e,{employees:[t.payload].concat(Object(Q.a)(e.employees))});case"EMPLOYEES_LOADING":return Object(Z.a)({},e,{loading:!0});default:return e}},event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EVENTS":return Object(Z.a)({},e,{events:t.payload,loading:!1});case"GET_EVENT_BY_ID":return Object(Z.a)({},e,{event:t.payload,loading:!1});case"DELETE_EVENT":return Object(Z.a)({},e,{events:e.events.filter(function(e){return e._id!==t.payload})});case"ADD_EVENTS":case"UPDATE_EVENT":return Object(Z.a)({},e,{events:[t.payload].concat(Object(Q.a)(e.events))});case"EVENTS_LOADING":return Object(Z.a)({},e,{loading:!0});default:return e}},toastr:ce.reducer}),de=[$.a],he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,pe=Object(X.e)(me,{},he(X.a.apply(void 0,de))),ge=(a(471),a(472),a(525)),Ee=function(){return function(e){e(fe()),Y.a.get("/api/category").then(function(t){return e({type:"GET_CATEGORIES",payload:t.data})}).catch(function(t){return e(z(t.response.data,t.response.status))})}},fe=function(){return{type:"CATEGORIES_LOADING"}},ye=a(69),be=a.n(ye),ve=a(70),Se=a.n(ve),Ce=(a(88),{onOk:function(){},onCancel:function(){console.log("CANCEL: clicked")}}),ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={editModal:!1,counter:1,editCategory:{_id:"",name:""}},a.onDeleteClick=function(e){ce.toastr.confirm("Je e sigurte ?",Ce),Ce.onOk=function(){a.props.deleteCategory(e),console.log("Category Deleted"),ce.toastr.success("Kategoria u fshi me sukses")}},a.toggleEdit=function(){a.setState({editModal:!a.state.editModal})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._refreshCategories()}},{key:"updateCategory",value:function(){this.props.updateCategory(this.state.editCategory),this._refreshCategories(),this.componentWillMount(),ce.toastr.success("Modifikim","Kategoria ".concat(this.state.editCategory.name," u modifikua me sukses")),this.setState({editModal:!1,counter:1,editCategory:{_id:"",name:""}})}},{key:"_refreshCategories",value:function(){this.props.getCategories()}},{key:"editCategory",value:function(e,t){this.setState({editCategory:{_id:e,name:t},editModal:!this.state.editModal})}},{key:"render",value:function(){var e=this,t=this.props.category.categories,a=[],n=this.state.counter;t.map(function(t){var o=t._id,r=t.name,l=t.date;return a.push([n++,r,Se()(l).format("DD-MM-YYYY"),i.a.createElement("div",null,i.a.createElement(I.a,{className:"remove-btn ",outline:!0,color:"danger",size:"sm",onClick:e.onDeleteClick.bind(e,o)},"Fshi"),i.a.createElement(I.a,{className:"edit-btn",outline:!0,color:"warning",size:"sm",onClick:e.editCategory.bind(e,o,r)},"Modifiko"))])});return i.a.createElement("div",null,i.a.createElement(D.a,{isOpen:this.state.editModal,toggle:this.toggleEdit.bind(this),centered:!0},i.a.createElement(M.a,{toggle:this.toggleEdit.bind(this)},"Modifiko kategorite"),i.a.createElement(w.a,null,i.a.createElement(x.a,null,i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"item"},"Emri Kategorise"),i.a.createElement(R.a,{type:"text",name:"name",id:"item",value:this.state.editCategory.name,onChange:function(t){var a=e.state.editCategory;a.name=t.target.value,e.setState({editCategory:a})},style:{marginBottom:"1rem"}})))),i.a.createElement(ge.a,null,i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.updateCategory.bind(this)},"Modifiko Kategori")," ",i.a.createElement(I.a,{color:"danger",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.toggleEdit.bind(this)},"Mbyll"))),this.props.isAuthenticated?i.a.createElement(be.a,{title:"Lista e Kategorive",data:a,columns:["Nr","Emri","Data Regjistrimit","Fshi/Modifiko"],options:{filterType:"dropdown",responsive:"scroll",selectableRows:"none",isRowSelectable:function(e){return!1}}}):"")}}]),t}(n.Component),Oe=Object(A.connect)(function(e){return{category:e.category,isAuthenticated:e.auth.isAuthenticated}},{getCategories:Ee,deleteCategory:function(e){return function(t,a){Y.a.delete("/api/category/".concat(e),U(a)).then(function(a){return t({type:"DELETE_CATEGORIES",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getCategoryById:function(e){return function(t){Y.a.get("/api/category/".concat(e)).then(function(a){return t({type:"GET_CATEGORY_BY_ID",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},updateCategory:function(e){return function(t,a){Y.a.put("/api/category/".concat(e._id),e,U(a)).then(function(e){return t({type:"UPDATE_CATEGORY",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}}})(ke),je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={modal:!1,name:""},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name};a.props.addCategory(t),""!==a.state.name?(ce.toastr.success("Shtim","Kategoria u shtua me sukses"),a.toggle()):ce.toastr.error("Shtim","Kategoria duhet te kete emer")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.isAuthenticated?i.a.createElement(I.a,{color:"success",outline:!0,style:{marginBottom:"2rem"},onClick:this.toggle.bind(this)},"Shto Kategori"):i.a.createElement("h4",{className:"mb-3 ml-4"},"Ju lutem logohuni qe te shtoni kategori"),i.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},i.a.createElement(M.a,{toggle:this.toggle,className:"bg-light"},"Shto te kategorite"),i.a.createElement(w.a,null,i.a.createElement(x.a,{onSubmit:this.onSubmit},i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"category"},"Kategori"),i.a.createElement(R.a,{type:"text",name:"name",id:"category",placeholder:"Shto kategori",onChange:this.onChange}),i.a.createElement(I.a,{color:"info",outline:!0,style:{marginTop:"2rem"},block:!0},"Shto Kategori"))))))}}]),t}(n.Component),_e=Object(A.connect)(function(e){return{category:e.category,isAuthenticated:e.auth.isAuthenticated}},{addCategory:function(e){return function(t,a){Y.a.post("/api/category",e,U(a)).then(function(e){return t({type:"ADD_CATEGORIES",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}}})(je),Be=a(526),Ne={marginTop:"40px"},Te=function(){return i.a.createElement(Be.a,{style:Ne},i.a.createElement(_e,null),i.a.createElement(Oe,null))},Ae=a(307),Ie=function(){return{type:"ITEMS_LOADING"}},De={onOk:function(){},onCancel:function(){console.log("CANCEL: clicked")}},Me=[],we=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={editModal:!1,counter:1,editItem:{_id:"",name:"",kodi:"",cmimBlerje:"",prodhuesi:"",shitesi:"",category:""}},a.onDeleteClick=function(e){ce.toastr.confirm("Je e sigurte ?",De),De.onOk=function(){a.props.deleteItem(e),console.log("Item Deleted"),ce.toastr.success("Produkti u fshi me sukses")}},a.toggleEdit=function(){a.setState({editModal:!a.state.editModal})},a.handleChange=function(e){var t=a.state.editItem;t.category=e.value,a.setState({editItem:t}),console.log("Option selected:",e.value)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._refreshItems()}},{key:"updateItem",value:function(){this.props.updateItem(this.state.editItem),this.componentWillMount(),ce.toastr.success("Modifikim","Produkti ".concat(this.state.editItem.name," u modifikua me sukses")),this._refreshItems(),this.setState({editModal:!1,editItem:{_id:"",name:"",kodi:"",cmimBlerje:"",prodhuesi:"",shitesi:"",category:""}})}},{key:"_refreshItems",value:function(){this.props.getItems(),this.props.getCategories()}},{key:"editItem",value:function(e,t,a,n,i,o,r){this.setState({editItem:{_id:e,name:t,kodi:a,cmimBlerje:n,prodhuesi:i,shitesi:o,category:r},editModal:!this.state.editModal})}},{key:"render",value:function(){var e=this,t=this.props.item.items,a=this.props.category.categories,n=this.state.counter;Me=(Me=a.slice(0)).map(function(e){return{label:e.name,value:e.name}});var o=[];t.map(function(t){var a=t._id,r=t.name,l=t.kodi,s=t.cmimBlerje,c=t.prodhuesi,u=t.shitesi,m=t.category,d=t.date;return o.push([n++,r,l,s,c,u,m,Se()(d).calendar(),i.a.createElement("div",null,i.a.createElement(I.a,{className:"remove-btn mb-2",outline:!0,color:"danger",size:"sm",onClick:e.onDeleteClick.bind(e,a)},"Fshi"),i.a.createElement(I.a,{className:"edit-btn",outline:!0,color:"warning",size:"sm",onClick:e.editItem.bind(e,a,r,l,s,c,u,m)},"Modifiko"))])});return i.a.createElement("div",null,i.a.createElement(D.a,{isOpen:this.state.editModal,toggle:this.toggleEdit.bind(this),centered:!0},i.a.createElement(M.a,{toggle:this.toggleEdit.bind(this)},"Modifiko produktet"),i.a.createElement(w.a,null,i.a.createElement(x.a,null,i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"item"},"Emri Produktit"),i.a.createElement(R.a,{type:"text",required:!0,name:"name",id:"item",value:this.state.editItem.name,onChange:function(t){var a=e.state.editItem;a.name=t.target.value,e.setState({editItem:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"kodi"},"Kodi"),i.a.createElement(R.a,{type:"text",name:"kodi",id:"kodi",required:!0,value:this.state.editItem.kodi,onChange:function(t){var a=e.state.editItem;a.kodi=t.target.value,e.setState({editItem:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"cmimBlerje"},"Cmimi Blerjes"),i.a.createElement(R.a,{type:"number",name:"cmimBlerje",id:"cmimBlerje",required:!0,value:this.state.editItem.cmimBlerje,onChange:function(t){var a=e.state.editItem;a.cmimBlerje=t.target.value,e.setState({editItem:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"shitesi"},"Shitesi"),i.a.createElement(R.a,{type:"text",name:"shitesi",id:"shitesi",required:!0,value:this.state.editItem.shitesi,onChange:function(t){var a=e.state.editItem;a.shitesi=t.target.value,e.setState({editItem:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"prodhuesi"},"Prodhuesi"),i.a.createElement(R.a,{type:"text",name:"prodhuesi",id:"prodhuesi",required:!0,value:this.state.editItem.prodhuesi,onChange:function(t){var a=e.state.editItem;a.prodhuesi=t.target.value,e.setState({editItem:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"category"},"Kategori"),i.a.createElement(Ae.a,{name:"category",id:"category",autoFocus:!0,simpleValue:!0,options:Me,value:Me.filter(function(t){return t.value===e.state.editItem.category}),onChange:this.handleChange})))),i.a.createElement(ge.a,null,i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.updateItem.bind(this)},"Modifiko Produkt")," ",i.a.createElement(I.a,{color:"danger",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.toggleEdit.bind(this)},"Mbyll"))),this.props.isAuthenticated?i.a.createElement(be.a,{title:"Lista e produkteve",data:o,columns:["Nr","Emri","Kodi","Cmimi Blerjes","Prodhuesi","Furnitori","Kategoria","Data Regjistrimit","Fshi/Modifiko"],options:{filterType:"dropdown",selectableRows:"none",responsive:"scroll",isRowSelectable:function(e){return!1}}}):"")}}]),t}(n.Component),Le=Object(A.connect)(function(e){return{item:e.item,category:e.category,isAuthenticated:e.auth.isAuthenticated}},{getItems:function(){return function(e){e(Ie()),Y.a.get("/api/items").then(function(t){return e({type:"GET_ITEMS",payload:t.data})}).catch(function(t){return e(z(t.response.data,t.response.status))})}},deleteItem:function(e){return function(t,a){Y.a.delete("/api/items/".concat(e),U(a)).then(function(a){return t({type:"DELETE_ITEMS",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getItemById:function(e){return function(t){Y.a.get("/api/items/".concat(e)).then(function(a){return t({type:"GET_ITEM_BY_ID",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},updateItem:function(e){return function(t,a){Y.a.put("/api/items/".concat(e._id),e,U(a)).then(function(e){return t({type:"UPDATE_ITEM",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getCategories:Ee})(we),xe=[],Pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={modal:!1,name:"",kodi:"",cmimBlerje:0,prodhuesi:"",shitesi:"",category:""},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name,kodi:a.state.kodi,cmimBlerje:a.state.cmimBlerje,prodhuesi:a.state.prodhuesi,shitesi:a.state.shitesi,category:a.state.category};a.props.addItem(t),a.toggle()},a.handleChange=function(e){a.setState({category:e.value})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._refreshCategories()}},{key:"_refreshCategories",value:function(){this.props.getCategories()}},{key:"render",value:function(){var e=this.props.category.categories,t=this.state.category;return xe=(xe=e.slice(0)).map(function(e){return{label:e.name,value:e.name}}),i.a.createElement("div",null,this.props.isAuthenticated?i.a.createElement(I.a,{style:{marginBottom:"2rem"},onClick:this.toggle.bind(this),outline:!0,color:"success"},"Shto Produkt"):i.a.createElement("h4",{className:"mb-3 ml-4"},"Logohu qe te shtosh produkt"),i.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},i.a.createElement(M.a,{toggle:this.toggle,className:"bg-light"},"Shto te produktet"),i.a.createElement(w.a,null,i.a.createElement(x.a,{onSubmit:this.onSubmit},i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"item"},"Emri Produktit"),i.a.createElement(R.a,{type:"text",name:"name",id:"item",required:!0,placeholder:"Emri...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"kodi"},"Kodi"),i.a.createElement(R.a,{type:"text",name:"kodi",id:"kodi",required:!0,placeholder:"Kodi...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"cmimBlerje"},"Cmimi Blerjes"),i.a.createElement(R.a,{type:"number",name:"cmimBlerje",id:"cmimBlerje",required:!0,placeholder:"Cmimi...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"shitesi"},"Shitesi"),i.a.createElement(R.a,{type:"text",name:"shitesi",id:"shitesi",required:!0,placeholder:"Shitesi",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"prodhuesi"},"Prodhuesi"),i.a.createElement(R.a,{type:"text",name:"prodhuesi",id:"prodhuesi",required:!0,placeholder:"Prodhuesi",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"category"},"Kategori"),i.a.createElement(Ae.a,{options:xe,value:t.value,name:"category",id:"category",required:!0,onChange:this.handleChange,placeholder:"Kategoria..."}),i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0},"Shto Produkt"))))))}}]),t}(n.Component),Ge=Object(A.connect)(function(e){return{item:e.item,category:e.category,isAuthenticated:e.auth.isAuthenticated}},{addItem:function(e){return function(t,a){Y.a.post("/api/items",e,U(a)).then(function(e){return t({type:"ADD_ITEMS",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getCategories:Ee})(Pe),Re={marginTop:"40px"},Ke=function(){return i.a.createElement(Be.a,{style:Re},i.a.createElement(Ge,null),i.a.createElement("div",{style:Re},i.a.createElement(Le,null)))},Ye=a(357),ze=(a(506),function(){return function(e){e(Ue()),Y.a.get("/api/events").then(function(t){return e({type:"GET_EVENTS",payload:t.data})}).catch(function(t){return e(z(t.response.data,t.response.status))})}}),Ue=function(){return{type:"EVENTS_LOADING"}},qe=a(63),Fe=a(387),We=a(306),Ve=a(42),Je=a(527),He=a(530);var Xe=Object(A.connect)(function(e){return{event:e.event,isAuthenticated:e.auth.isAuthenticated}},{getEvents:ze,addEvent:function(e){return function(t,a){Y.a.post("/api/events",e,U(a)).then(function(e){return t({type:"ADD_EVENTS",payload:e.data})}).catch(function(e){return console.log(e)})}}})(function(e){var t=i.a.useState(Date.now),a=Object(qe.a)(t,2),n=a[0],o=a[1],r=i.a.useState(Date.now),l=Object(qe.a)(r,2),s=l[0],c=l[1],u=i.a.useState(!1),m=Object(qe.a)(u,2),d=m[0],h=m[1],p=i.a.useState(""),g=Object(qe.a)(p,2),E=g[0],f=g[1],y=i.a.useState(Date.now),b=Object(qe.a)(y,2),v=b[0],S=b[1],C=i.a.useState(Date.now),k=Object(qe.a)(C,2),O=k[0],j=k[1];function _(e){o(e),S(e)}function B(e){c(e),j(e)}function N(){h(!d)}return i.a.createElement("div",null,e.isAuthenticated?i.a.createElement(I.a,{color:"success",outline:!0,style:{marginBottom:"2rem"},onClick:N.bind(this)},"Shto Event"):i.a.createElement("h4",{className:"mb-3 ml-4"},"Ju lutem logohuni qe te shtoni evente"),i.a.createElement(D.a,{isOpen:d,toggle:N,centered:!0},i.a.createElement(M.a,{toggle:N,className:"bg-light"},"Shto te Eventet"),i.a.createElement(w.a,null,i.a.createElement(x.a,{onSubmit:function(t){t.preventDefault();var a={title:E,startDate:v,endDate:O};v>=O?ce.toastr.error("Gabim","Data e fillimit nuk mund te jete me e madhe se data e mbarimit ose e njejte"):(e.addEvent(a),N(),ce.toastr.success("Shtim","Eventi u shtua me sukses"),window.location.reload(!0))}},i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"title"},"Eventi"),i.a.createElement(R.a,{type:"text",name:"title",id:"event",required:!0,placeholder:"Eventi...",onChange:function(e){f(e.target.value)},className:"mb-2"}),i.a.createElement(Ve.a,{utils:We.a,centered:!0},i.a.createElement(Fe.a,{container:!0},i.a.createElement(Je.a,{margin:"normal",id:"date-picker-dialog",label:"Data fillimit",format:"MM/dd/yyyy",value:n,onChange:_,KeyboardButtonProps:{"aria-label":"change date"},className:"mr-5 ml-2"}),i.a.createElement(He.a,{margin:"normal",id:"time-picker",ampm:!1,label:"Koha e fillimit te eventit",value:n,onChange:_,KeyboardButtonProps:{"aria-label":"change time"}})),i.a.createElement(Fe.a,{container:!0},i.a.createElement(Je.a,{margin:"normal",id:"date-picker-dialog",label:"Data mbarimit",format:"MM/dd/yyyy",value:s,onChange:B,KeyboardButtonProps:{"aria-label":"change date"},className:"mr-5 ml-2"}),i.a.createElement(He.a,{margin:"normal",ampm:!1,id:"time-picker",label:"Koha e mbarimit te eventit",value:s,onChange:B,KeyboardButtonProps:{"aria-label":"change time"}}))),i.a.createElement(I.a,{color:"info",outline:!0,style:{marginTop:"2rem"},block:!0},"Shto Event"))))),d)}),$e={buttons:[{text:"Fshi",className:"btn btn-outline-danger",handler:function(){}},{cancel:!0}],disableCancel:!0,style:{fontSize:"26px"}},Qe={marginTop:"40px",marginLeft:"10px",height:"800px"},Ze=Object(Ye.b)(Se.a),et=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={event:{id:"",title:"",start:"",end:""}},a.callBackFunction=function(e){console.log("The selection is  -> ",e)},a.handleEventClick=function(e){ce.toastr.confirm(i.a.createElement("span",{style:{fontSize:20}},e.title),$e),$e.buttons[0].handler=function(){a.props.deleteEvent(e.id),ce.toastr.success("Eventi u fshi me sukses")}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._refreshEvents()}},{key:"_refreshEvents",value:function(){this.props.getEvents()}},{key:"render",value:function(){var e=this,t=this.props.event.events,a=[];return t.map(function(e){var t=e._id,n=e.title,i=e.startDate,o=e.endDate;return a.push({id:t,title:n,start:new Date(i),end:new Date(o)})}),i.a.createElement(Be.a,{style:Qe},i.a.createElement(Xe,{name:"mario"}),i.a.createElement(Ye.a,{popup:!0,localizer:Ze,events:a,onSelectEvent:function(t){e.setState({event:t}),e.handleEventClick(t)},startAccessor:"start",endAccessor:"end",defaultView:"day"}))}}]),t}(n.Component),tt=Object(A.connect)(function(e){return{event:e.event,isAuthenticated:e.auth.isAuthenticated}},{getEvents:ze,deleteEvent:function(e){return function(t,a){Y.a.delete("/api/events/".concat(e),U(a)).then(function(a){return t({type:"DELETE_EVENT",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getEventById:function(e){return function(t){Y.a.get("/api/events/".concat(e)).then(function(a){return t({type:"GET_EVENT_BY_ID",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},updateEvent:function(e){return function(t,a){Y.a.put("/api/events/".concat(e._id),e,U(a)).then(function(e){return t({type:"UPDATE_EVENT",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}}})(et),at=function(){return{type:"CLIENTS_LOADING"}},nt={onOk:function(){},onCancel:function(){console.log("CANCEL: clicked")}},it=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={editModal:!1,counter:1,editClient:{_id:"",name:"",surname:""}},a.onDeleteClick=function(e){ce.toastr.confirm("Je e sigurte ?",nt),nt.onOk=function(){a.props.deleteClient(e),console.log("Client Deleted"),ce.toastr.success("Klienti u fshi me sukses")}},a.toggleEdit=function(){a.setState({editModal:!a.state.editModal})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._refreshClients()}},{key:"updateClient",value:function(){this.props.updateClient(this.state.editClient),ce.toastr.success("Modifikim","Klienti ".concat(this.state.editClient.name," u modifikua me sukses")),this._refreshClients(),this.componentWillMount(),this.setState({editModal:!1,counter:1,editClient:{_id:"",name:"",surname:""}})}},{key:"_refreshClients",value:function(){this.props.getClients()}},{key:"editClient",value:function(e,t,a){this.setState({editClient:{_id:e,name:t,surname:a},editModal:!this.state.editModal})}},{key:"render",value:function(){var e=this,t=this.props.client.clients,a=this.state.counter,n=[];t.map(function(t){var o=t._id,r=t.name,l=t.surname,s=t.date;return n.push([a++,r,l,Se()(s).calendar(),i.a.createElement("div",null,i.a.createElement(I.a,{className:"remove-btn mb-2",outline:!0,color:"danger",size:"sm",onClick:e.onDeleteClick.bind(e,o)},"Fshi"),i.a.createElement(I.a,{className:"edit-btn",outline:!0,color:"warning",size:"sm",onClick:e.editClient.bind(e,o,r,l)},"Modifiko"))])});return i.a.createElement("div",null,i.a.createElement(D.a,{isOpen:this.state.editModal,toggle:this.toggleEdit.bind(this),centered:!0},i.a.createElement(M.a,{toggle:this.toggleEdit.bind(this)},"Modifiko Klientin"),i.a.createElement(w.a,null,i.a.createElement(x.a,null,i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"name"},"Emri Klientit"),i.a.createElement(R.a,{type:"text",name:"name",id:"name",value:this.state.editClient.name,onChange:function(t){var a=e.state.editClient;a.name=t.target.value,e.setState({editClient:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"surname"},"Mbiemri Klientit"),i.a.createElement(R.a,{type:"text",name:"surname",id:"surname",value:this.state.editClient.surname,onChange:function(t){var a=e.state.editClient;a.surname=t.target.value,e.setState({editClient:a})},style:{marginBottom:"1rem"}})))),i.a.createElement(ge.a,null,i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.updateClient.bind(this)},"Modifiko Produkt")," ",i.a.createElement(I.a,{color:"danger",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.toggleEdit.bind(this)},"Mbyll"))),this.props.isAuthenticated?i.a.createElement(be.a,{title:"Lista e Klienteve",data:n,columns:["Nr","Emer","Mbiemer","Data Regjistrimit","Delete"],options:{filterType:"dropdown",responsive:"scroll",selectableRows:"none",isRowSelectable:function(e){return!1}}}):"")}}]),t}(n.Component),ot=Object(A.connect)(function(e){return{client:e.client,isAuthenticated:e.auth.isAuthenticated}},{getClients:function(){return function(e){e(at()),Y.a.get("/api/clients").then(function(t){return e({type:"GET_CLIENTS",payload:t.data})}).catch(function(t){return e(z(t.response.data,t.response.status))})}},deleteClient:function(e){return function(t,a){Y.a.delete("/api/clients/".concat(e),U(a)).then(function(a){return t({type:"DELETE_CLIENTS",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getClientById:function(e){return function(t){Y.a.get("/api/clients/".concat(e)).then(function(a){return t({type:"GET_CLIENT_BY_ID",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},updateClient:function(e){return function(t,a){Y.a.put("/api/clients/".concat(e._id),e,U(a)).then(function(e){return t({type:"UPDATE_CLIENT",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}}})(it),rt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={modal:!1,name:"",surname:""},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name,surname:a.state.surname};a.props.addClient(t),""!==a.state.name?""!==a.state.surname?(ce.toastr.success("Shtim","Klienti u shtua me sukses"),a.toggle()):ce.toastr.error("Shtim","Mbiemri nuk mund te jete bosh"):ce.toastr.error("Shtim","Emri nuk mund te jete bosh")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.isAuthenticated?i.a.createElement(I.a,{className:"success-btn mb-2",outline:!0,color:"success",onClick:this.toggle.bind(this)},"Shto Klient"):i.a.createElement("h4",{className:"mb-3 ml-4"},"Ju lutem logohuni qe te shtoni kliente"),i.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},i.a.createElement(M.a,{toggle:this.toggle,className:"bg-light"},"Shto klient te ri"),i.a.createElement(w.a,null,i.a.createElement(x.a,{onSubmit:this.onSubmit},i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"emri"},"Emer"),i.a.createElement(R.a,{type:"text",name:"name",id:"emri",placeholder:"Emer...",onChange:this.onChange,className:"mb-2"}),i.a.createElement(G.a,{for:"surname"},"Mbiemer"),i.a.createElement(R.a,{type:"text",name:"surname",id:"surname",placeholder:"Mbiemer...",onChange:this.onChange,className:"mb-2"}),i.a.createElement(I.a,{className:"info-btn mb-2",outline:!0,color:"info",block:!0},"Shto"))))))}}]),t}(n.Component),lt=Object(A.connect)(function(e){return{client:e.client,isAuthenticated:e.auth.isAuthenticated}},{addClient:function(e){return function(t,a){Y.a.post("/api/clients",e,U(a)).then(function(e){return t({type:"ADD_CLIENTS",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}}})(rt),st={marginTop:"40px"},ct=function(){return i.a.createElement(Be.a,{style:st},i.a.createElement(lt,null),i.a.createElement(ot,null))},ut=function(e){return function(t,a){Y.a.post("/api/sales",e,U(a)).then(function(e){return t({type:"ADD_SALES",payload:e.data})}).catch(function(e){return console.log(e)})}},mt=function(){return{type:"SALES_LOADING"}},dt=a(355),ht=a.n(dt),pt=a(417),gt=a(77),Et=a(420),ft=a.n(Et),yt=a(421),bt=a.n(yt),vt=a(419),St=a.n(vt),Ct=a(330),kt=a(208),Ot=a(333),jt=a(335),_t=a(289),Bt=a(163),Nt=a(338),Tt=a(347),At=a(386),It=a(422),Dt=a(164),Mt=a(334),wt=function(e){return function(t,a){Y.a.post("/api/buyings",e,U(a)).then(function(e){return t({type:"ADD_BUYINGS",payload:e.data})}).catch(function(e){return console.log(e)})}},Lt=function(){return{type:"BUYINGS_LOADING"}},xt=Dt.b().shape({code:Dt.c().required("Kodi eshte i detyrueshem"),description:Dt.c().required("Pershkrimi eshte i detyrueshem"),unit:Dt.c().required("Njesia eshte e detyrueshme"),quantity:Dt.a().positive("Sasia duhet te jete numer pozitiv").required("Sasia eshte e detyrueshme"),price:Dt.a().positive("Cmimi duhet te jete numer pozitiv").required("Cmimi eshte i detyrueshem")}),Pt=Object(gt.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},formControl:{margin:e.spacing(3),minWidth:200},root:{flexGrow:1},paper:{marginTop:e.spacing(3),padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},table:{minWidth:650,margin:e.spacing(2,2)},datePicker:{margin:e.spacing(3)},select:{margin:e.spacing(1),minWidth:180}}});function Gt(e){var t=e.quantity*e.price;return[e.id,e.code,e.description,e.unit,e.quantity,e.price,t]}var Rt={filterType:"dropdown",responsive:"scroll",pagination:!1},Kt=i.a.forwardRef(function(e,t){return i.a.createElement(Ct.a,Object.assign({direction:"up",ref:t},e))}),Yt=function(e){var t=Pt(),a=Object(n.useState)(!1),o=Object(qe.a)(a,2),r=o[0],l=o[1],s=Object(n.useState)([]),c=Object(qe.a)(s,2),u=c[0],m=c[1],d=Object(n.useState)([]),p=Object(qe.a)(d,2),g=p[0],E=p[1],y=Object(n.useState)(""),b=Object(qe.a)(y,2),C=b[0],O=b[1],j=Object(n.useState)(0),_=Object(qe.a)(j,2),B=_[0],N=(_[1],Object(n.useState)(Date.now)),T=Object(qe.a)(N,2),A=T[0],I=T[1],D=Object(n.useState)([{name:"#",options:{filter:!1,customBodyRender:function(e,t){return t.rowIndex+1}}},"Kodi","Pershkrimi","Njesia","Sasia","Cmimi","Vlefta"]),M=Object(qe.a)(D,2),w=M[0],L=(M[1],function(){var e=Object(pt.a)(ht.a.mark(function e(){var t;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.get("/api/clients");case 2:t=e.sent,E(t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}());Object(n.useEffect)(function(){r&&L()},[r]),Object(n.useEffect)(function(){l(e.openAction)},[e.openAction]);var x=function(){l(!1),O(""),e.closeInvoiceModal()};return i.a.createElement("div",null,i.a.createElement(Bt.a,{variant:"outlined",color:"primary",className:"mb-2",onClick:function(){l(!0)},endIcon:i.a.createElement(St.a,null)},"Shto Fature"),i.a.createElement(Nt.a,{fullScreen:!0,open:r,onClose:x,TransitionComponent:Kt},i.a.createElement(h.a,{className:t.appBar},i.a.createElement(v.a,{style:{display:"flex"}},i.a.createElement(f.a,{edge:"start",color:"inherit",onClick:x,"aria-label":"close"},i.a.createElement(ft.a,null)),i.a.createElement(S.a,{variant:"h6",className:t.title},e.invoiceTitle))),i.a.createElement("div",{className:t.root},i.a.createElement(Fe.a,{container:!0,spacing:3},i.a.createElement(Fe.a,{item:!0,xs:2},i.a.createElement(Ot.a,{className:t.formControl},i.a.createElement(Mt.a,{id:"client-select-label"},"Klientet"),i.a.createElement(Tt.a,{className:t.select,labelId:"client-select-label",id:"client-select",value:C,onChange:function(e){O(e.target.value)}},g.map(function(e){return i.a.createElement(k.a,{key:e._id,value:e._id},e.name)}))),i.a.createElement(Ve.a,{utils:We.a,centered:!0},i.a.createElement(Je.a,{margin:"normal",variant:"inline",id:"date-picker-dialog",label:"Data fillimit",format:"dd/MM/yyyy",value:A,onChange:function(e){I(e)},KeyboardButtonProps:{"aria-label":"change date"},className:t.datePicker})),i.a.createElement(Bt.a,{autoFocus:!0,variant:"contained",style:{float:"right"},color:"secondary",onClick:function(){var t=0;u.forEach(function(e){t+=e[6]});var a={clientId:C,invoiceType:e.invoiceType,rows:u,total:t};0===e.invoiceType?e.addBuying(a):e.addSale(a),x()},startIcon:i.a.createElement(bt.a,null)},"Ruaj"),i.a.createElement(At.a,{orientation:"vertical"})),i.a.createElement(Fe.a,{item:!0,xs:4},i.a.createElement(Fe.a,{item:!0},function(e){return i.a.createElement(kt.a,{className:t.paper},i.a.createElement(It.a,{initialValues:{code:"",description:"",unit:"",quantity:"",price:""},validationSchema:xt,onSubmit:function(e,t){var a=t.resetForm;!function(e){m([].concat(Object(Q.a)(u),[Gt(e)]))}(e),a()}},function(a){var n=a.values,o=a.handleChange,r=a.handleBlur,l=a.handleSubmit,s=(a.isSubmitting,a.isValid,a.dirty,a.errors),c=a.touched;return a.resetForm,i.a.createElement("form",{onSubmit:l},i.a.createElement("div",null,1!==e?i.a.createElement(Ot.a,{className:t.formControl},i.a.createElement(jt.a,{component:"legend"},"Kodi"),i.a.createElement(_t.a,{className:"mb-2",type:"text",name:"code",onChange:o,onBlur:r,value:n.code}),s.code&&c.code?s.code:""):""),i.a.createElement("div",null,i.a.createElement(Ot.a,{className:t.formControl},i.a.createElement(jt.a,{component:"legend"},"Pershkrimi"),i.a.createElement(_t.a,{className:"mb-2",type:"text",name:"description",onChange:o,onBlur:r,value:n.description}),s.description&&c.description?s.description:"")),i.a.createElement("div",null,i.a.createElement(Ot.a,{className:t.formControl},i.a.createElement(jt.a,{component:"legend"},"Njesia"),i.a.createElement(_t.a,{className:"mb-2",type:"text",name:"unit",onChange:o,onBlur:r,value:n.unit}),s.unit&&c.unit?s.unit:"")),i.a.createElement("div",null,i.a.createElement(Ot.a,{className:t.formControl},i.a.createElement(jt.a,{component:"legend"},"Sasia"),i.a.createElement(_t.a,{className:"mb-2",type:"number",name:"quantity",onChange:o,onBlur:r,value:n.quantity}),s.quantity&&c.quantity?s.quantity:"")),i.a.createElement("div",null,i.a.createElement(Ot.a,{className:t.formControl},i.a.createElement(jt.a,{component:"legend"},"Cmimi"),i.a.createElement(_t.a,{className:"mb-2",type:"number",name:"price",onChange:o,onBlur:r,value:n.price}),s.price&&c.price?s.price:"")),i.a.createElement(Ot.a,{className:t.formControl},i.a.createElement(Bt.a,{variant:"contained",type:"submit",color:"secondary"},"Shto >")))}))}(B))),i.a.createElement(Fe.a,{item:!0,xs:6},i.a.createElement("div",{className:t.table},i.a.createElement(be.a,{title:"Fature",data:u,columns:w,options:Rt})))))))};Yt.defaultProps={invoiceTitle:"Fature",invoiceType:0,openAction:!1};var zt=Object(A.connect)(function(e){return{client:e.client,isAuthenticated:e.auth.isAuthenticated}},{addSale:ut,addBuying:wt})(Yt),Ut=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={editModal:!1,editSale:{_id:"",clientName:"",clientSurname:"",productName:"",sasia:"",cmimi:"",kodi:""},openAction:!1},a.onDeleteClick=function(e){a.props.deleteSale(e)},a.toggleEdit=function(){a.setState({editModal:!a.state.editModal})},a.closeInvoiceModal=function(){a.setState({openAction:!1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._refreshSales()}},{key:"updateSale",value:function(){this.props.updateSale(this.state.editSale),this._refreshSales(),this.componentWillMount(),this.setState({editModal:!1,_id:"",clientName:"",clientSurname:"",productName:"",sasia:"",cmimi:"",kodi:""})}},{key:"_refreshSales",value:function(){this.props.getSales()}},{key:"editSale",value:function(e,t,a,n,i,o,r){this.setState({editSale:{_id:e,clientName:t,clientSurname:a,productName:n,sasia:i,cmimi:o,kodi:r},editModal:!this.state.editModal})}},{key:"render",value:function(){var e=this,t=this.state.openAction,a=this.props.sale.sales,n=[{name:"#",options:{filter:!1,customBodyRender:function(e,t){return t.rowIndex+1}}},"Emer","Mbiemer","Emer Produkti","Sasia","Cmimi","Kodi","Data","Fshi"],o=[];a.map(function(t){var a=t._id,n=t.clientName,r=t.clientSurname,l=t.productName,s=t.sasia,c=t.cmimi,u=t.kodi,m=t.date;return o.push([n,r,l,s,c,u,Se()(m).calendar(),i.a.createElement("div",null,i.a.createElement(I.a,{className:"remove-btn mb-2",outline:!0,color:"danger",size:"sm",onClick:e.onDeleteClick.bind(e,a)},"Fshi"),i.a.createElement(I.a,{className:"edit-btn",outline:!0,color:"warning",size:"sm",onClick:e.editSale.bind(e,a,n,r,l,s,c,u)},"Modifiko"))])});var r={filterType:"dropdown",responsive:"scroll",selectableRows:"none",isRowSelectable:function(e){return!1},setRowProps:function(){return{onDoubleClick:function(t,a){e.setState({openAction:!0}),console.log(t)}}}};return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(zt,{invoiceTitle:"Shitje",invoiceType:1,openAction:t,closeInvoiceModal:this.closeInvoiceModal}),i.a.createElement(D.a,{isOpen:this.state.editModal,toggle:this.toggleEdit.bind(this),centered:!0},i.a.createElement(M.a,{toggle:this.toggleEdit.bind(this)},"Modifiko Shitjen"),i.a.createElement(w.a,null,i.a.createElement(x.a,null,i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"clientName"},"Emri Klientit"),i.a.createElement(R.a,{type:"text",name:"clientName",id:"clientName",value:this.state.editSale.clientName,onChange:function(t){var a=e.state.editSale;a.clientName=t.target.value,e.setState({editSale:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"clientSurname"},"Mbiemri Klientit"),i.a.createElement(R.a,{type:"text",name:"clientSurname",id:"clientSurname",value:this.state.editSale.clientSurname,onChange:function(t){var a=e.state.editSale;a.clientSurname=t.target.value,e.setState({editSale:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"productName"},"Emri Produktit"),i.a.createElement(R.a,{type:"text",name:"productName",id:"productName",value:this.state.editSale.productName,onChange:function(t){var a=e.state.editSale;a.productName=t.target.value,e.setState({editSale:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"sasia"},"Sasia"),i.a.createElement(R.a,{type:"number",name:"sasia",id:"sasia",value:this.state.editSale.sasia,onChange:function(t){var a=e.state.editSale;a.sasia=t.target.value,e.setState({editSale:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"cmimi"},"Cmimi"),i.a.createElement(R.a,{type:"number",name:"cmimi",id:"cmimi",value:this.state.editSale.cmimi,onChange:function(t){var a=e.state.editSale;a.cmimi=t.target.value,e.setState({editSale:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"kodi"},"Kodi"),i.a.createElement(R.a,{type:"text",name:"kodi",id:"kodi",value:this.state.editSale.kodi,onChange:function(t){var a=e.state.editSale;a.kodi=t.target.value,e.setState({editSale:a})},style:{marginBottom:"1rem"}})))),i.a.createElement(ge.a,null,i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.updateSale.bind(this)},"Modifiko Produkt")," ",i.a.createElement(I.a,{color:"danger",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.toggleEdit.bind(this)},"Mbyll"))),this.props.isAuthenticated?i.a.createElement(be.a,{title:"Lista e Shitjeve",data:o,columns:n,options:r}):"")}}]),t}(n.Component),qt=Object(A.connect)(function(e){return{sale:e.sale,isAuthenticated:e.auth.isAuthenticated}},{getSales:function(){return function(e){e(mt()),Y.a.get("/api/sales").then(function(t){return e({type:"GET_SALES",payload:t.data})}).catch(function(t){return e(z(t.response.data,t.response.status))})}},deleteSale:function(e){return function(t,a){Y.a.delete("/api/sales/".concat(e),U(a)).then(function(a){return t({type:"DELETE_SALES",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getSaleById:function(e){return function(t){Y.a.get("/api/sales/".concat(e)).then(function(a){return t({type:"GET_SALE_BY_ID",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},updateSale:function(e){return function(t,a){Y.a.put("/api/sales/".concat(e._id),e,U(a)).then(function(e){return t({type:"UPDATE_SALE",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}}})(Ut),Ft=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={modal:!1,clientName:"",clientSurname:"",productName:"",sasia:"",cmimi:"",kodi:"",hasError:!1},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={clientName:a.state.clientName,clientSurname:a.state.clientSurname,productName:a.state.productName,sasia:a.state.sasia,cmimi:a.state.cmimi,kodi:a.state.kodi};a.props.addSale(t),a.toggle()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?i.a.createElement("h1",null,"Something went wrong."):i.a.createElement("div",null,this.props.isAuthenticated?i.a.createElement(I.a,{color:"success",outline:!0,style:{marginBottom:"2rem"},onClick:this.toggle.bind(this)},"Shto Shitje"):i.a.createElement("h4",{className:"mb-3 ml-4"},"Please log in to add sale"),i.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},i.a.createElement(M.a,{toggle:this.toggle,className:"bg-light"},"Shto shitje te re"),i.a.createElement(w.a,null,i.a.createElement(x.a,{onSubmit:this.onSubmit},i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"clientName"},"Emer"),i.a.createElement(R.a,{type:"text",name:"clientName",id:"clientName",placeholder:"Emer...",onChange:this.onChange,className:"mb-2"}),i.a.createElement(G.a,{for:"clientSurname"},"Mbiemer"),i.a.createElement(R.a,{type:"text",name:"clientSurname",id:"clientSurname",placeholder:"Mbiemer...",onChange:this.onChange,className:"mb-2"}),i.a.createElement(G.a,{for:"productName"},"Emri Produktit"),i.a.createElement(R.a,{type:"text",name:"productName",id:"productName",placeholder:"Emer Produkti...",onChange:this.onChange,className:"mb-2"}),i.a.createElement(G.a,{for:"sasia"},"Sasia"),i.a.createElement(R.a,{type:"number",name:"sasia",id:"sasia",placeholder:"Sasia...",onChange:this.onChange,className:"mb-2"}),i.a.createElement(G.a,{for:"cmimi"},"Cmimi"),i.a.createElement(R.a,{type:"number",name:"cmimi",id:"cmimi",placeholder:"Cmimi...",onChange:this.onChange,className:"mb-2"}),i.a.createElement(G.a,{for:"kodi"},"Kodi"),i.a.createElement(R.a,{type:"text",name:"kodi",id:"kodi",placeholder:"kodi...",onChange:this.onChange,className:"mb-2"}),i.a.createElement(I.a,{color:"info",outline:!0,style:{marginTop:"2rem"},block:!0},"Shto shitje"))))))}}]),t}(n.Component),Wt=(Object(A.connect)(function(e){return{sale:e.sale,isAuthenticated:e.auth.isAuthenticated}},{addSale:ut})(Ft),{marginTop:"40px"}),Vt=function(){return i.a.createElement(Be.a,{style:Wt},i.a.createElement(qt,null))},Jt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={modal:!1,name:"",kodi:"",cmimBlerje:0,prodhuesi:"",shitesi:"",sasia:0},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name,kodi:a.state.kodi,cmimBlerje:a.state.cmimBlerje,prodhuesi:a.state.prodhuesi,shitesi:a.state.shitesi,sasia:a.state.sasia};a.props.addBuying(t),""!==a.state.name?""!==a.state.kodi?0!==a.state.cmimBlerje?""!==a.state.prodhuesi?""!==a.state.shitesi?0!==a.state.sasia?(ce.toastr.success("Shtim","Blerja u shtua me sukses"),a.toggle()):ce.toastr.error("Shtim","Sasia nuk mund te jete bosh"):ce.toastr.error("Shtim","Shitesi nuk mund te jete bosh"):ce.toastr.error("Shtim","Prodhuesi nuk mund te jete bosh"):ce.toastr.error("Shtim","Cmimi blerjes nuk mund te jete bosh"):ce.toastr.error("Shtim","Kodi nuk mund te jete bosh"):ce.toastr.error("Shtim","Emri nuk mund te jete bosh")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.isAuthenticated?i.a.createElement(I.a,{style:{marginBottom:"2rem"},onClick:this.toggle.bind(this),outline:!0,color:"success"},"Shto Blerje"):i.a.createElement("h4",{className:"mb-3 ml-4"},"Logohu qe te shtosh blerje"),i.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},i.a.createElement(M.a,{toggle:this.toggle,className:"bg-light"},"Shto te blerjet"),i.a.createElement(w.a,null,i.a.createElement(x.a,{onSubmit:this.onSubmit},i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"item"},"Emri"),i.a.createElement(R.a,{type:"text",name:"name",id:"item",placeholder:"Emri...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"kodi"},"Kodi"),i.a.createElement(R.a,{type:"text",name:"kodi",id:"kodi",placeholder:"Kodi...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"cmimBlerje"},"Cmimi Blerjes"),i.a.createElement(R.a,{type:"number",name:"cmimBlerje",id:"cmimBlerje",placeholder:"Cmimi...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"shitesi"},"Shitesi"),i.a.createElement(R.a,{type:"text",name:"shitesi",id:"shitesi",placeholder:"Shitesi",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"prodhuesi"},"Prodhuesi"),i.a.createElement(R.a,{type:"text",name:"prodhuesi",id:"prodhuesi",placeholder:"Prodhuesi",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"sasia"},"Sasia"),i.a.createElement(R.a,{type:"number",name:"sasia",id:"sasia",placeholder:"Sasia...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0},"Shto Shitje"))))))}}]),t}(n.Component),Ht=(Object(A.connect)(function(e){return{buying:e.buying,isAuthenticated:e.auth.isAuthenticated}},{addBuying:wt})(Jt),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={editModal:!1,editBuying:{_id:"",name:"",kodi:"",cmimBlerje:"",prodhuesi:"",shitesi:"",sasia:""},openAction:!1},a.onDeleteClick=function(e){a.props.deleteBuying(e)},a.toggleEdit=function(){a.setState({editModal:!a.state.editModal})},a.closeInvoiceModal=function(){a.setState({openAction:!1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._refreshBuyings()}},{key:"updateSale",value:function(){this.props.updateBuying(this.state.editBuying),this._refreshBuyings(),this.componentWillMount(),this.setState({editModal:!1,_id:"",name:"",kodi:"",cmimBlerje:"",prodhuesi:"",shitesi:"",sasia:""})}},{key:"_refreshBuyings",value:function(){this.props.getBuyings()}},{key:"editBuying",value:function(e,t,a,n,i,o,r){this.setState({editBuying:{_id:e,name:t,kodi:a,cmimBlerje:n,prodhuesi:i,shitesi:o,sasia:r},editModal:!this.state.editModal})}},{key:"render",value:function(){var e=this,t=this.state.openAction,a=this.props.buying.buyings,n=[{name:"#",options:{filter:!1,customBodyRender:function(e,t){return t.rowIndex+1}}},"Emer","Kodi","Cmimi Blerjes","Prodhuesi","Shitesi","Sasia","Data Regjistrimit","Fshi/Modifiko"],o=[];a.map(function(t){var a=t._id,n=t.name,r=t.kodi,l=t.cmimBlerje,s=t.prodhuesi,c=t.shitesi,u=t.sasia,m=t.date;return o.push([n,r,l,s,c,u,Se()(m).calendar(),i.a.createElement("div",null,i.a.createElement(I.a,{className:"remove-btn mb-2",outline:!0,color:"danger",size:"sm",onClick:e.onDeleteClick.bind(e,a)},"Fshi"),i.a.createElement(I.a,{className:"edit-btn",outline:!0,color:"warning",size:"sm",onClick:e.editBuying.bind(e,a,n,r,l,s,c,u)},"Modifiko"))])});var r={filterType:"dropdown",responsive:"scroll",selectableRows:"none",isRowSelectable:function(e){return!1},setRowProps:function(){return{onDoubleClick:function(t,a){e.setState({openAction:!0})}}}};return i.a.createElement("div",null,i.a.createElement(zt,{invoiceTitle:"Blerje",invoiceType:0,openAction:t,closeInvoiceModal:this.closeInvoiceModal}),i.a.createElement(D.a,{isOpen:this.state.editModal,toggle:this.toggleEdit.bind(this),centered:!0},i.a.createElement(M.a,{toggle:this.toggleEdit.bind(this)},"Modifiko Blerjen"),i.a.createElement(w.a,null,i.a.createElement(x.a,null,i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"name"},"Emri"),i.a.createElement(R.a,{type:"text",name:"name",id:"name",required:!0,value:this.state.editBuying.name,onChange:function(t){var a=e.state.editBuying;a.name=t.target.value,e.setState({editBuying:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"kodi"},"Kodi"),i.a.createElement(R.a,{type:"text",name:"kodi",id:"kodi",required:!0,value:this.state.editBuying.kodi,onChange:function(t){var a=e.state.editBuying;a.kodi=t.target.value,e.setState({editBuying:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"cmimBlerje"},"Cmimi Blerjes"),i.a.createElement(R.a,{type:"number",name:"cmimBlerje",id:"cmimBlerje",required:!0,value:this.state.editBuying.cmimBlerje,onChange:function(t){var a=e.state.editBuying;a.cmimBlerje=t.target.value,e.setState({editBuying:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"prodhuesi"},"Prodhuesi"),i.a.createElement(R.a,{type:"text",name:"prodhuesi",id:"prodhuesi",required:!0,value:this.state.editBuying.prodhuesi,onChange:function(t){var a=e.state.editBuying;a.prodhuesi=t.target.value,e.setState({editBuying:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"shitesi"},"Shitesi"),i.a.createElement(R.a,{type:"text",name:"shitesi",id:"shitesi",required:!0,value:this.state.editBuying.shitesi,onChange:function(t){var a=e.state.editBuying;a.shitesi=t.target.value,e.setState({editBuying:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"category"},"Kategori"),i.a.createElement(R.a,{type:"text",name:"category",id:"category",required:!0,value:this.state.editBuying.category,onChange:function(t){var a=e.state.editBuying;a.category=t.target.value,e.setState({editBuying:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"sasia"},"sasia"),i.a.createElement(R.a,{type:"number",name:"sasia",id:"sasia",required:!0,value:this.state.editBuying.sasia,onChange:function(t){var a=e.state.editBuying;a.sasia=t.target.value,e.setState({editBuying:a})},style:{marginBottom:"1rem"}})))),i.a.createElement(ge.a,null,i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.updateSale.bind(this)},"Modifiko Blerjen")," ",i.a.createElement(I.a,{color:"danger",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.toggleEdit.bind(this)},"Mbyll"))),this.props.isAuthenticated?i.a.createElement(be.a,{title:"Lista e Blerjeve",data:o,columns:n,options:r}):"")}}]),t}(n.Component)),Xt=Object(A.connect)(function(e){return{buying:e.buying,isAuthenticated:e.auth.isAuthenticated}},{getBuyings:function(){return function(e){e(Lt()),Y.a.get("/api/buyings").then(function(t){return e({type:"GET_BUYINGS",payload:t.data})}).catch(function(t){return e(z(t.response.data,t.response.status))})}},deleteBuying:function(e){return function(t,a){Y.a.delete("/api/buyings/".concat(e),U(a)).then(function(a){return t({type:"DELETE_BUYING",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getBuyingById:function(e){return function(t){Y.a.get("/api/buyings/".concat(e)).then(function(a){return t({type:"GET_BUYING_BY_ID",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},updateBuying:function(e){return function(t,a){Y.a.put("/api/buyings/".concat(e._id),e,U(a)).then(function(e){return t({type:"UPDATE_BUYING",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}}})(Ht),$t={marginTop:"40px"},Qt=function(){return i.a.createElement(Be.a,{style:$t},i.a.createElement(Xt,null))},Zt=function(){return{type:"EMPLOYEES_LOADING"}},ea={onOk:function(){},onCancel:function(){console.log("CANCEL: clicked")}},ta=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={editModal:!1,counter:1,editEmployee:{_id:"",name:"",surname:"",numerSigurime:"",pozicioni:"",adresa:"",paga:0}},a.onDeleteClick=function(e){ce.toastr.confirm("Je e sigurte ?",ea),ea.onOk=function(){a.props.deleteEmployee(e),console.log("Employee Deleted"),ce.toastr.success("Punetori u fshi me sukses")}},a.toggleEdit=function(){a.setState({editModal:!a.state.editModal})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._refreshItems()}},{key:"updateEmployee",value:function(){this.props.updateEmployee(this.state.editEmployee),this._refreshItems(),this.componentWillMount(),ce.toastr.success("Modifikim","Punetori ".concat(this.state.editEmployee.name," u modifikua me sukses")),this.setState({editModal:!1,counter:1,editEmployee:{_id:"",name:"",surname:"",numerSigurime:"",pozicioni:"",adresa:"",paga:0}})}},{key:"_refreshItems",value:function(){this.props.getEmployees()}},{key:"editEmployee",value:function(e,t,a,n,i,o,r){this.setState({editEmployee:{_id:e,name:t,surname:a,numerSigurime:n,pozicioni:i,adresa:o,paga:r},editModal:!this.state.editModal})}},{key:"render",value:function(){var e=this,t=this.props.employee.employees,a=this.state.counter,n=[];t.map(function(t){var o=t._id,r=t.name,l=t.surname,s=t.numerSigurime,c=t.pozicioni,u=t.adresa,m=t.paga,d=t.date;return n.push([a++,r,l,s,c,u,m,Se()(d).calendar(),i.a.createElement("div",null,i.a.createElement(I.a,{className:"remove-btn mb-2",outline:!0,color:"danger",size:"sm",onClick:e.onDeleteClick.bind(e,o)},"Fshi"),i.a.createElement(I.a,{className:"edit-btn",outline:!0,color:"warning",size:"sm",onClick:e.editEmployee.bind(e,o,r,l,s,c,u,m)},"Modifiko"))])});return i.a.createElement("div",null,i.a.createElement(D.a,{isOpen:this.state.editModal,toggle:this.toggleEdit.bind(this),centered:!0},i.a.createElement(M.a,{toggle:this.toggleEdit.bind(this)},"Modifiko punetore"),i.a.createElement(w.a,null,i.a.createElement(x.a,null,i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"name"},"Emri"),i.a.createElement(R.a,{type:"text",name:"name",id:"name",value:this.state.editEmployee.name,onChange:function(t){var a=e.state.editEmployee;a.name=t.target.value,e.setState({editEmployee:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"surname"},"Mbiemri"),i.a.createElement(R.a,{type:"text",name:"surname",id:"surname",value:this.state.editEmployee.surname,onChange:function(t){var a=e.state.editEmployee;a.surname=t.target.value,e.setState({editEmployee:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"numerSigurime"},"Numri Sigurimeve"),i.a.createElement(R.a,{type:"text",name:"numerSigurime",id:"numerSigurime",value:this.state.editEmployee.numerSigurime,onChange:function(t){var a=e.state.editEmployee;a.numerSigurime=t.target.value,e.setState({editEmployee:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"pozicioni"},"Pozicioni"),i.a.createElement(R.a,{type:"text",name:"pozicioni",id:"pozicioni",value:this.state.editEmployee.pozicioni,onChange:function(t){var a=e.state.editEmployee;a.pozicioni=t.target.value,e.setState({editEmployee:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"adresa"},"Adresa"),i.a.createElement(R.a,{type:"text",name:"adresa",id:"adresa",value:this.state.editEmployee.adresa,onChange:function(t){var a=e.state.editEmployee;a.adresa=t.target.value,e.setState({editEmployee:a})},style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"paga"},"Paga"),i.a.createElement(R.a,{type:"number",name:"paga",id:"paga",value:this.state.editEmployee.paga,onChange:function(t){var a=e.state.editEmployee;a.paga=t.target.value,e.setState({editEmployee:a})},style:{marginBottom:"1rem"}})))),i.a.createElement(ge.a,null,i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.updateEmployee.bind(this)},"Modifiko Punetor")," ",i.a.createElement(I.a,{color:"danger",style:{marginTop:"2rem"},block:!0,outline:!0,onClick:this.toggleEdit.bind(this)},"Mbyll"))),this.props.isAuthenticated?i.a.createElement(be.a,{title:"Lista e punetoreve",data:n,columns:["Nr","Emri","Mbiemri","Nr.Sigurimesh","Pozicioni","Adresa","Paga","Data Regjistrimit","Fshi/Modifiko"],options:{filterType:"dropdown",selectableRows:"none",responsive:"scroll",isRowSelectable:function(e){return!1}}}):"")}}]),t}(n.Component),aa=Object(A.connect)(function(e){return{employee:e.employee,isAuthenticated:e.auth.isAuthenticated}},{getEmployees:function(){return function(e){e(Zt()),Y.a.get("/api/employees").then(function(t){return e({type:"GET_EMPLOYEES",payload:t.data})}).catch(function(t){return e(z(t.response.data,t.response.status))})}},deleteEmployee:function(e){return function(t,a){Y.a.delete("/api/employees/".concat(e),U(a)).then(function(a){return t({type:"DELETE_EMPLOYEE",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},getEmployeeById:function(e){return function(t){Y.a.get("/api/employees/".concat(e)).then(function(a){return t({type:"GET_EMPLOYEE_BY_ID",payload:e})}).catch(function(e){return t(z(e.response.data,e.response.status))})}},updateEmployee:function(e){return function(t,a){Y.a.put("/api/employees/".concat(e._id),e,U(a)).then(function(e){return t({type:"UPDATE_EMPLOYEE",payload:e.data})}).catch(function(e){t(z(e.response.data,e.response.status)),console.log(e)})}}})(ta),na=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={modal:!1,name:"",surname:"",numerSigurime:"",pozicioni:"",adresa:"",paga:0},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name,surname:a.state.surname,numerSigurime:a.state.numerSigurime,pozicioni:a.state.pozicioni,adresa:a.state.adresa,paga:a.state.paga};a.props.addEmployee(t),""!==a.state.name?""!==a.state.surname?""!==a.state.numerSigurime?""!==a.state.pozicioni?""!==a.state.adresa?0!==a.state.paga?a.state.paga<=0?ce.toastr.error("Shtim","Paga nuk mund te jete me e vogel ose e barabarte me 0 "):(ce.toastr.success("Shtim","Punonjesi u shtua me sukses"),a.toggle()):ce.toastr.error("Shtim","Paga nuk mund te jete bosh"):ce.toastr.error("Shtim","Adresa nuk mund te jete bosh"):ce.toastr.error("Shtim","Pozicioni nuk mund te jete bosh"):ce.toastr.error("Shtim","Numri sigurimeve nuk mund te jete bosh"):ce.toastr.error("Shtim","Mbiemri nuk mund te jete bosh"):ce.toastr.error("Shtim","Emri nuk mund te jete bosh")},a.handleChange=function(e){a.setState({category:e.value})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.isAuthenticated?i.a.createElement(I.a,{style:{marginBottom:"2rem"},onClick:this.toggle.bind(this),outline:!0,color:"success"},"Shto Punetor"):i.a.createElement("h4",{className:"mb-3 ml-4"},"Logohu qe te shtosh punetor"),i.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},i.a.createElement(M.a,{toggle:this.toggle,className:"bg-light"},"Shto punetor"),i.a.createElement(w.a,null,i.a.createElement(x.a,{onSubmit:this.onSubmit},i.a.createElement(P.a,null,i.a.createElement(G.a,{for:"name"},"Emri"),i.a.createElement(R.a,{type:"text",name:"name",id:"name",placeholder:"Emri...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"surname"},"Mbiemri"),i.a.createElement(R.a,{type:"text",name:"surname",id:"surname",placeholder:"Mbiemri...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"numerSigurime"},"Numri Sigurimeve"),i.a.createElement(R.a,{type:"text",name:"numerSigurime",id:"numerSigurime",placeholder:"Numri sigurimeve...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"pozicioni"},"Pozicioni"),i.a.createElement(R.a,{type:"text",name:"pozicioni",id:"pozicioni",placeholder:"Pozicioni...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"adresa"},"Adresa"),i.a.createElement(R.a,{type:"text",name:"adresa",id:"adresa",placeholder:"Adresa...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(G.a,{for:"paga"},"Paga"),i.a.createElement(R.a,{type:"number",name:"paga",id:"paga",placeholder:"Paga...",onChange:this.onChange,style:{marginBottom:"1rem"}}),i.a.createElement(I.a,{color:"info",style:{marginTop:"2rem"},block:!0,outline:!0},"Shto Punetor"))))))}}]),t}(n.Component),ia=Object(A.connect)(function(e){return{employee:e.employee,isAuthenticated:e.auth.isAuthenticated}},{addEmployee:function(e){return function(t,a){Y.a.post("/api/employees",e,U(a)).then(function(e){return t({type:"ADD_EMPLOYEES",payload:e.data})}).catch(function(e){return t(z(e.response.data,e.response.status))})}}})(na),oa={marginTop:"10px"},ra=function(){return i.a.createElement(Be.a,{style:oa},i.a.createElement(ia,null),i.a.createElement("div",{style:oa},i.a.createElement(aa,null)))},la=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){pe.dispatch(function(e,t){e({type:"USER_LOADING"}),Y.a.get("/api/auth/user",U(t)).then(function(t){return e({type:"USER_LOADED",payload:t.data})}).catch(function(t){e(z(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})})})}},{key:"render",value:function(){return i.a.createElement(A.Provider,{store:pe},i.a.createElement(j.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(H,null,i.a.createElement(ue.a,{timeOut:4e3,newestOnTop:!1,preventDuplicates:!0,position:"top-left",transitionIn:"fadeIn",transitionOut:"fadeOut",progressBar:!0,closeOnToastrClick:!0}),i.a.createElement(_.c,null,i.a.createElement(_.a,{exact:!0,path:"/",component:tt}),i.a.createElement(_.a,{path:"/sales",component:Vt}),i.a.createElement(_.a,{path:"/buyings",component:Qt}),i.a.createElement(_.a,{path:"/shopping",component:Ke}),i.a.createElement(_.a,{path:"/category",component:Te}),i.a.createElement(_.a,{path:"/clients",component:ct}),i.a.createElement(_.a,{path:"/employees",component:ra}),i.a.createElement(_.a,{path:"/invoice",component:zt}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(la,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[429,1,2]]]);
//# sourceMappingURL=main.8c96db54.chunk.js.map